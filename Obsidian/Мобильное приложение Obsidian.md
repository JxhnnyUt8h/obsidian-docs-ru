# Obsidian для Android

Приложение для Android на данный момент находится в [[Мобильное приложение бета-тестирование|закрытом бета-тестировании]] и доступно в форме подписанного APK-файла.

## Как синхронизировать мои данные?

Obsidian для Android хранит все хранилища локально в общедоступных папках вашего устройства. Вы можете выбрать сервис [[Obsidian Sync]] для синхронизации ваших файлов или использовать сторонние средства синхронизации, которые могут использовать общедоступные папки для синхронизации.

### Obsidian Sync

Как и в случае с настольным приложением Obsidian, мы предоставляем встроенный платный сервис [[Obsidian Sync]].

Чтобы настроить синхронизацию хранилища с помощью Obsidian Sync, сначала создайте новое пустое локальное хранилище. Как только пустое хранилище будет открыто, откройте левую боковую панель, нажмите кнопку Настройки и настройте плагин Obsidian Sync так же, как вы это сделали бы в настольном приложении:

1. Войдите в свою учетную запись Obsidian на вкладке Учетная запись.
2. Включите плагин Синхронизация на вкладке Основные плагины.
3. Выберите внешнее хранилище для синхронизации.
4. Держите приложение открытым до тех пор, пока все ваши файлы не будут синхронизированы.

Чтобы посмотреть состояние синхронизации Obsidian Sync, проведите пальцем, чтобы вытащить правую шторку, и вы увидите индикатор состояния, такой же как отображается в настольном приложении. Нажмите на него, чтобы получить дополнительную информацию, например, просмотреть журнал синхронизации для отладки любых проблем.

Примечание: если вы используете Obsidian Sync вместе со сторонним сервисом синхронизации, пожалуйста убедитесь в том, что вы добавили в исключения файл `.obsidian/sync.json` в стороннем сервисе синхронизации, чтобы не нарушить работу Obsidian Sync. Этот файл используется для отслеживания состояния синхронизации на локальном устройстве и может вызвать проблемы при его случайной синхронизации.

### Синхронизация сторонними сервисами

Вы можете использоваться ваше любимое решение для синхронизации папки на вашем телефоне с другими устройствами.

В Play Store есть приложения, которые позволят синхронизировать папку на вашем телефоне с другими устройствами, например, [Dropsync](https://play.google.com/store/apps/details?id=com.ttxapps.dropsync) или [FolderSync](https://play.google.com/store/apps/details?id=dk.tacit.android.foldersync.lite).

Однако мы не тестировали эти решения. Если у вас уже есть успешный опыт работы с любым из них, пожалуйста, сообщите нам об этом, чтобы мы могли разместить информацию об этом на этой странице.

## Где хранятся мои хранилища?

На Android домашняя папка Obsidian находится в общедоступных папках в `Documents/Obsidian`. Общедоступная папка `Documents` обычно хранится на SD-карте или в эмулируемом устройстве хранения.

Любая папка в этой домашней директории будет считаться хранилищем. Если вы сделаете синхронизацию или скопируете папку хранилища в этот каталог, она может быть распознана при открытии приложения Obsidian.

# Obsidian для iOS

Приложение для iOS находится на данный момент в [[Мобильное приложение бета-тестирование|закрытом бета-тестировании]] и доступно через TestFlight.

## Как синхронизировать мои данные?

Obsidian для iOS может хранить ваше хранилище в iCloud или локально. iCloud и Obsidian Sync являются двумя протестированными и рекомендуемыми решениями для синхронизации.

Любое стороннее приложение синхронизации, которое может обеспечить фоновую синхронизацию для определенной папки на вашем устройстве, также должно работать, но мы не знаем ни об одном из них. Это связано с ограничениями очень сложного механизма совместного использования файлов между приложениями iOS в отличие от Android, где общедоступные папки доступны всем приложениям. Поэтому большинство сторонних приложений синхронизации не имеют надлежащей реализации фоновой синхронизации в iOS.

### Obsidian Sync

Вы можете выполнить те же действия, что используются для синхронизации на Android, как это показано ниже, убедившись в том, что вы сделали папку не в iCloud и не хотите хранить копию своего хранилища в нем:

![[Мобильное приложение Obsidian#Obsidian Sync]]

### Синхронизация iCloud Drive

Для настройки синхронизации хранилища через iCloud Drive вы должны в первую очередь установить и открыть приложение Obsidian для iOS. Это действие приведет к созданию папки "Obsidian" внутри iCloud Drive. Папка будет иметь значок приложения Obsidian. Обратите внимание, что эта папка считается специальной папкой iCloud и отличается от папки, которую вы можете создать вручную внутри вашего iCloud Drive.

Далее, на вашем компьютере переместите ваше хранилище в папку `iCloud Drive/Obsidian/`. Это позволит Obsidian прочитать содержимое специальной папки приложения в вашем iCloud Drive.

Позвольте iCloud синхронизировать всю папку вашего хранилища. Затем откройте приложение Obsidian на вашем мобильно устройстве. Теперь вы должны увидеть хранилище, которое вы только что поместили внутрь, а также значок облака, указывающий на то, что оно хранится в iCloud.

При первоначальном открытии этого хранилища приложение Obsidian может «зависнуть» на некоторое время из-за того, что iCloud скачивает все файлы в фоновом режиме. В конце концов, как только iCloud закончит синхронизацию всех данных на телефоне, приложение должно начать работать плавно. Однако для этого может потребоваться перезапустить приложение несколько раз.

### Синхронизация с Working Copy

Вы также можете настроить приложение Working Copy и использовать Git для синхронизации вашего хранилища на iOS. Для этого вам необходимо сначала создать пустое локальное хранилище на вашем устройстве, затем вы можете настроить папку для синхронизации, выбрав папку локального хранилища, созданного в приложении Obsidian. После этого вы сможете в ручном режиме подтверждать изменения и отправлять их в удаленный репозиторий.

## Где хранятся мои хранилища?

Если вы решите хранить ваше хранилище в iCloud, оно будет храниться в контейнере вашей учетной записи iCloud Drive в специальной папке приложения с именем "Obsidian", у которой должен отображаться значок с нашим лого.

Если вы решите не пользоваться iCloud, ваше хранилище будет сохранено в изолированной файловой системе в приложении Obsidian. В версии 0.0.14 локальное хранилище доступно для любого мобильного приложения, которое поддерживает выбор папки в файловой системе. Такие приложения как Working Copy могут использоваться для синхронизации локальных хранилищ Obsidian.

В настоящее время Obsidian напрямую не поддерживает работу сторонних приложений синхронизации, которые предоставляют доступ к виртуальной файловой системе через FileProvider. Мы будем пытаться реализовать это в будущем в качестве улучшения.

# Поддержка сторонней синхронизации

Многие пользователи спрашивают, почему мобильная версия Obsidian не поддерживает их любимые сервисы для синхронизации. Вот краткое объяснение текущего состояния поддержки мобильной синхронизации.

Особенность Obsidian, которая отличает его от других приложений, таких как 1Writer и iA Writer, заключается в том, что Obsidian работает поверх всего хранилища, а не с одной заметкой. Многие из основных функций Obsidian зависят от всего хранилища и всех файлов внутри него, такие как автозавершение ссылок, вставка изображений, панель тегов, обратные ссылки и весь функционал перекрестных заметок.

В то же время, большинство приложений для редактирования файлов Markdown просто «открывают» одну заметку, позволяя пользователю внести правки, а затем сохраняют ее. Из-за этого ОС и сторонние приложения синхронизации обычно предоставляют API только для доступа/работы с одним файлом, но не для работы с хранилищем (папкой с файлами и вероятно с вложенными подпапками).

Для синхронизации обычное приложение для редактирования файлов Markdown может предоставить базовые функции «скачать файл, когда вы открываете выбранный файл» и «загрузить файл назад, когда вы нажимаете кнопку сохранить». Obsidian должен скачать все хранилище, чтобы эффективно работать, и отслеживать все измененные файлы (например, когда вы выполняете переименование файла, вы можете внести изменение в кучу других файлов, где ссылки изменились из-за переименования текущего файла). Кроме того, нам нужен способ отслеживать изменения, сделанные через синхронизацию, чтобы иметь возможность обновлять внутренний кэш при изменении файлов и обеспечивать точность ссылок.

Отслеживать всё это при работе со сторонним приложениями синхронизации было бы довольно трудоемко. Это, на самом деле, одна из причин, почему большинство разработчиков сервисов синхронизации не делают соответствующее приложение синхронизации для мобильных устройств, а вам приходится использовать стороннее приложение для неё (например, DropSync или FolderSync). К сожалению, такие приложения не существуют на iOS из-за изоляции приложений.